serenity {
    take.screenshots = FOR_FAILURES
}

headless.mode = false
maximized.mode = true
environments {
  default {
    webdriver.base.url = "https://vi.wikipedia.org"
  }
  dev {
    webdriver.base.url = "https://vi.wikipedia.org/dev"
  }
  staging {
    webdriver.base.url = "https://vi.wikipedia.org/staging"
  }
  prod {
    webdriver.base.url = "https://vi.wikipedia.org/prod"
  }
  all {
    home.page = "#{webdriver.base.url}"
    config.page = "#{webdriver.base.url}/myapp"
    accounts.page = "#{accounts.service.url}/myapp"
  }
  chrome {
    webdriver {
      driver = chrome
      autodownload = true
      capabilities {
        browserName = "chrome"
        acceptInsecureCerts = true
        "goog:chromeOptions" {
          args = [
            "test-type",
            "ignore-certificate-errors",
            "incognito",
            "disable-infobars",
            "disable-gpu",
            "disable-default-apps",
            "disable-popup-blocking",
            "start-maximized"
          ]
        }
      }
    }
  }
  edge {
    webdriver {
      capabilities {
        browserName = "MicrosoftEdge"
        "ms:edgeOptions" {
          args = [
            "start-maximized", // Thay đổi nếu cần để tối đa hóa cửa sổ
            "test-type",
            "ignore-certificate-errors",
            "headless",
            "incognito",
            "disable-infobars",
            "disable-gpu",
            "disable-default-apps",
            "disable-popup-blocking"
          ]
        }
      }
    }
  }
  firefox {
    webdriver {
      capabilities {
        browserName = "firefox"
        pageLoadStrategy = "normal"
        acceptInsecureCerts = true
        unhandledPromptBehavior = "dismiss"
        strictFileInteractability = true

        "moz:firefoxOptions" {
          args = [
            "--start-maximized"
          ]
          prefs {
            "javascript.options.showInConsole": false
          }
          log {
            level = "info"
          }
        }
      }
    }
  }
}
